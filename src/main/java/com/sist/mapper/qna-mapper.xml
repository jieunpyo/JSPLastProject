<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.sist.mapper.qna-mapper">
  <!-- <resultMap type="com.sist.vo.QnABoardVO" id="qnaMap">
     <association property="dvo" javaType="com.sist.vo.QnABoardVO">
       <id property="no" column="no"/>
       <result property="id" column="id"/>
       <result property="subject" column="subject"/>
       <result property="name" column="name"/>
       <result property="regdate" column="regdate"/>
       <result property="content" column="content"/>
       <result property="group_id" column="group_id"/>
       <result property="step" column="step"/>
       <result property="indent" column="indent"/>
       <result property="hit" column="hit"/>
       <result property="state" column="state"/>
     </association>
   </resultMap> -->
  <select id="qnaListData" parameterType="int"
    resultType="com.sist.vo.QnABoardVO"
  >
  SELECT no,subject,name,TO_CHAR(regdate,'YYYY-MM-DD') as dbday,
         hit,state
  FROM qnaBoard
  WHERE step=0
  ORDER BY group_id DESC , step ASC
  OFFSET #{start} ROWS FETCH NEXT 10 ROWS ONLY
  </select>
  <select id="qnaTotalPage" resultType="int">
    SELECT CEIL(COUNT(*)/10.0) 
    FROM qnaBoard
    WHERE step=0
  </select>
</mapper>